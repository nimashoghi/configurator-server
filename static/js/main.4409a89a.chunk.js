(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{115:function(t,e,n){t.exports=n(258)},120:function(t,e,n){},257:function(t,e,n){},258:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(113),c=n.n(o),s=(n(120),n(19)),u=n.n(s),i=n(28),l=n(40),f=n(114),p=n.n(f);n(257);var m="http://".concat(window.CONFIGURATOR_HOST||"localhost:5000","/settings");function d(t){return b.apply(this,arguments)}function b(){return(b=Object(l.a)(u.a.mark(function t(e){var n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(m,"/").concat(e));case 2:return n=t.sent,t.next=5,n.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function w(t,e){return h.apply(this,arguments)}function h(){return(h=Object(l.a)(u.a.mark(function t(e,n){var a;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(m,"/").concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 2:if(a=t.sent,t.t0=a.ok,!t.t0){t.next=9;break}return t.next=7,a.json();case 7:t.t1=t.sent.success,t.t0=!0===t.t1;case 9:if(!t.t0){t.next=13;break}alert("Successfully updated settings"),t.next=14;break;case 13:alert("Failed to update settings...");case 14:case"end":return t.stop()}},t)}))).apply(this,arguments)}function v(){var t=function(t,e){var n=Object(a.useState)(function(){try{var n=window.localStorage.getItem(t);return n?JSON.parse(n):e}catch(a){return console.log(a),e}}),r=Object(i.a)(n,2),o=r[0],c=r[1];return[o,function(e){try{var n=e instanceof Function?e(o):e;c(n),window.localStorage.setItem(t,JSON.stringify(n))}catch(a){console.log(a)}},function(){return window.localStorage.removeItem(t)}]}("passcode",""),e=Object(i.a)(t,3),n=e[0],r=e[1],o=e[2];return Object(a.useEffect)(function(){n||r(prompt("Please enter your passcode here")||"")},[n,r]),[n,o]}var O=function(){var t=v(),e=Object(i.a)(t,2),n=e[0],o=e[1],c=function(t){var e=Object(a.useState)(),n=Object(i.a)(e,2),r=n[0],o=n[1];return Object(a.useEffect)(function(){Object(l.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=o,e.next=3,d(t);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}},e)}))()},[t]),[r,o]}(n),s=Object(i.a)(c,2),f=s[0],m=s[1];return n&&f?r.a.createElement("div",{className:"formContainer"},r.a.createElement("div",{className:"form"},r.a.createElement(p.a,{schema:JSON.parse(window.CONFIGURATOR_SCHEMA||"{}"),formData:f,onChange:function(t){var e=t.formData;return m(e)},onSubmit:function(){var t=Object(l.a)(u.a.mark(function t(e){var a;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.formData,t.next=3,w(n,a);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),onError:function(t){alert("Could not validate form. Check console for more information."),console.error(t)}},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("button",{className:"btn btn-success",type:"submit"},"Submit"),r.a.createElement("button",{className:"btn btn-danger",onClick:function(){o(),document.location.reload()}},"Logout"))))):r.a.createElement("div",null,"Loading...")};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[115,1,2]]]);
//# sourceMappingURL=main.4409a89a.chunk.js.map